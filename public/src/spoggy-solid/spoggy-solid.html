<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/lazy-imports/lazy-imports-mixin.html">
<link rel="import" href="./solid-behavior.html">

<dom-module id="spoggy-solid">
  <link rel="lazy-import" group="lazy" href="./solid-connect.html">
  <link rel="lazy-import" group="lazy" href="./solid-import.html">
  <link rel="lazy-import" group="lazy" href="./solid-current.html">
  <link rel="lazy-import" group="lazy" href="./solid-browser.html">
  <link rel="lazy-import" group="lazy" href="./solid-editor.html">
  <link rel="lazy-import" group="lazy" href="../../bower_components/paper-input/paper-input.html">
  <link rel="lazy-import" group="lazy" href="../../bower_components/paper-button/paper-button.html">
  <link rel="lazy-import" group="lazy" href="../../bower_components/paper-icon-button/paper-icon-button.html">
  <link rel="lazy-import" group="lazy" href="../../bower_components/paper-input/paper-textarea.html">
  <link rel="lazy-import" group="lazy" href="../../bower_components/paper-dialog/paper-dialog.html">
  <link rel="lazy-import" group="lazy" href="../../bower_components/paper-dialog-scrollable/paper-dialog-scrollable.html">
  <link rel="lazy-import" group="lazy" href="../../bower_components/paper-dialog-behavior/paper-dialog-behavior.html">
  <link rel="lazy-import" group="lazy" href="../../bower_components/iron-collapse-button/iron-collapse-button.html">
  <link rel="lazy-import" group="lazy" href="../../bower_components/paper-card/paper-card.html">
  <link rel="lazy-import" group="lazy" href="../../bower_components/paper-tabs/paper-tabs.html">
  <link rel="lazy-import" group="lazy" href="../../bower_components/paper-tabs/paper-tab.html">
  <link rel="lazy-import" group="lazy" href="../../bower_components/iron-pages/iron-pages.html">

  <link rel="lazy-import" group="lazy" href="/bower_components/bottom-nav/bottom-nav.html">
  <link rel="lazy-import" group="lazy" href="/bower_components/bottom-nav/bottom-toolbar.html">
  <link rel="lazy-import" group="lazy" href="/bower_components/bottom-nav/bottom-tab.html">

  <template>
    <style is="custom-style" include="demo-pages-shared-styles">


    paper-tabs {
      background-color: var(--paper-blue-900);
      color: #fff;
    }
    </style>


    <iron-collapse-button opened>
      <h3 slot="collapse-trigger" style="margin: 0;color: #0D578B;">Solid</h3>
      <div slot="collapse-content">

        <paper-tabs selected={{selected}}>
          <paper-tab>POD</paper-tab>
          <paper-tab>Browser</paper-tab>
          <paper-tab>Editor</paper-tab>
        </paper-tabs>


        <iron-pages selected={{selected}}>
          <div>
            <iron-collapse-button>
              <h3 slot="collapse-trigger" style="margin: 0;color: #0D578B;">Connect</h3>
              <div slot="collapse-content">
                <solid-connect></solid-connect>
              </div>
            </iron-collapse-button>

            <iron-collapse-button opened>
              <h3 slot="collapse-trigger" style="margin: 0;color: #0D578B;">Current</h3>
              <div slot="collapse-content">
                <solid-current>Chargement Current</solid-current>
              </div>
            </iron-collapse-button>
          </div>
          <div>
            <solid-browser>Chargement Browser</solid-browser>
          </div>
          <div>
            <solid-editor>Chargement Editeur</solid-editor>
          </div>
        </iron-pages>

      </div>


    </iron-collapse-button>
  </br>
</br>

<!--
<bottom-nav>
<bottom-toolbar selected="0">
<bottom-tab sticky icon="icons:home"></bottom-tab>
<bottom-tab icon="icons:menu"></bottom-tab>
<bottom-tab icon="icons:close"></bottom-tab>
<bottom-tab icon="icons:chevron-right"></bottom-tab>
</bottom-toolbar>
</bottom-nav>-->

<!--
<bottom-nav shadow>
<bottom-toolbar selected="0">
<bottom-tab  selected-class="grey" label="Movies & TV" icon="notification:ondemand-video"></bottom-tab>
<bottom-tab  selected-class="green"label="Music" icon="image:music-note"></bottom-tab>
<bottom-tab  selected-class="brown"label="Books" icon="icons:book"></bottom-tab>
<bottom-tab  selected-class="darkbrown" label="Newstand" icon="av:web"></bottom-tab>
</bottom-toolbar>
</bottom-nav>
<sample-content size="10">blop</sample-content>-->

<!--
<paper-tabs selected="0">
<paper-tab link>
<a href="#link1" class="link" tabindex="-1">TAB ONE</a>
</paper-tab>
<paper-tab link>
<a href="#link2" class="link" tabindex="-1">TAB TWO</a>
</paper-tab>
<paper-tab link>
<a href="#link3" class="link" tabindex="-1">TAB THREE</a>
</paper-tab>
</paper-tabs>


<paper-card hidden$="[[hidePseudo]]" image="[[image(item.image)]]" alt="Ce endpoint ne semble pas accessible" justified>
<div class="card-content">
<iron-collapse-button>
<h3 slot="collapse-trigger" style="margin: 0;color: #0D578B;">Solid POD Connect</h3>
<div slot="collapse-content">
<solid-connect></solid-connect>
</div>
</iron-collapse-button>

<iron-collapse-button>
<h3 slot="collapse-trigger" style="margin: 0;color: #0D578B;">Current</h3>
<div slot="collapse-content">
<solid-current>Chargement Current</solid-current>
</div>
</iron-collapse-button>
</div>

<div class="cafe-header">   <h2 style="margin: 0;color: #0D578B;">Solid POD</h2>
</div>

</div>
<div class="horizontal justified">
<paper-button class="cafe-reserve" on-tap="pseudoChanged">Enregistrer</paper-button>
</div>
</paper-card>-->
<!--
<br>

<paper-card hidden$="[[hidePseudo]]" image="[[image(item.image)]]" alt="Ce endpoint ne semble pas accessible" justified>
<div class="card-content">
<iron-collapse-button opened>
<h3 slot="collapse-trigger" style="margin: 0;color: #0D578B;">Browser</h3>
<div slot="collapse-content">
<solid-browser>Chargement Browser</solid-browser>

</div>
</iron-collapse-button>
</div>-->
<!--
<div class="cafe-header">   <h2 style="margin: 0;color: #0D578B;">Solid POD</h2>
</div>

</div>
<div class="horizontal justified">
<paper-button class="cafe-reserve" on-tap="pseudoChanged">Enregistrer</paper-button>
</div>-->
<!--</paper-card>

<paper-card hidden$="[[hidePseudo]]" image="[[image(item.image)]]" alt="Ce endpoint ne semble pas accessible" justified>
<div class="card-content">
<iron-collapse-button >
<h3 slot="collapse-trigger" style="margin: 0;color: #0D578B;">Editor</h3>
<div slot="collapse-content">
<solid-editor>Chargement Editeur</solid-editor>
</div>
</iron-collapse-button>
</div>-->
<!--
<div class="cafe-header">   <h2 style="margin: 0;color: #0D578B;">Solid POD</h2>
</div>

</div>
<div class="horizontal justified">
<paper-button class="cafe-reserve" on-tap="pseudoChanged">Enregistrer</paper-button>
</div>-->
<!--</paper-card>-->

</template>

<script>

class SpoggySolid extends Polymer.LazyImportsMixin(SolidBehaviorMixin(Polymer.Element)) {
  static get is() { return 'spoggy-solid'; }
  static get properties() {
    return {
      prop1: {
        type: String,
        value: 'spoggy-solid'
      },
      connected: {type: Boolean, value: false},
      selected: {
        type: Number,
        value: 0
      },
    };
  }

  constructor(){
    super();
    Polymer.RenderStatus.afterNextRender(this, function() {
      this._deferred();
    });
  }
  _deferred(){
    this.importLazyGroup('lazy').then((results) => {
      console.log(results);
      this.dispatchEvent(new CustomEvent('import-loaded', results));
      this.agentSolid = new SolidAgent('agentSolid', this);
      /*  solid.auth.trackSession(session => {
      if (!session){
      console.log('The user is not logged in')
      this.connected = false;
      //this.$.current.hide()
      //  this.agentConnect.send('agentBrowser', {type: 'sessionChanged', session: null })
    }
    else{
    console.log(`The user is ${session.webId}`)
    //  this.$.popupSolid.toggle();
    this.connected = true
    //this.$.current.show()
    //  this.agentConnect.send('agentBrowser', {type: 'sessionChanged', session: session })
  }
})*/
});
}

changeSelected(selected){
  console.log(selected)
  this.selected = selected;
  console.log(this.selected)
}
}

window.customElements.define(SpoggySolid.is, SpoggySolid);
</script>
</dom-module>
